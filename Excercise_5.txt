CREATE TABLE STUDENT(
    SID INT PRIMARY KEY,
    NAME VARCHAR(20) NOT NULL,
    GENDER VARCHAR(20) NOT NULL
);

CREATE TABLE BOOKS(
    ISBN INT PRIMARY KEY,
    TITLE VARCHAR(20) NOT NULL,
    AUTHOR VARCHAR(20) NOT NULL,
    PUBLISHER VARCHAR(20) NOT NULL
);

CREATE TABLE BORROWS(
    SID INT,
    ISBN INT,
    DTE VARCHAR(20) NOT NULL,
    FOREIGN KEY(SID) REFERENCES STUDENT(SID) ON DELETE CASCADE,
    FOREIGN KEY(ISBN) REFERENCES BOOKS(ISBN) ON DELETE CASCADE,
    PRIMARY KEY(SID,ISBN)
);

INSERT INTO STUDENT VALUES(101,'SAKET','MALE');
INSERT INTO STUDENT VALUES(100,'RYAN','MALE');
INSERT INTO STUDENT VALUES(107,'SHARATH','MALE');
INSERT INTO STUDENT VALUES(127,'TAMANNA','FEMALE');
INSERT INTO STUDENT VALUES(131,'VIBHUTI','FEMALE');
INSERT INTO STUDENT VALUES(124,'REEHAN','MALE');

INSERT INTO BOOKS VALUES(1,'AMERICAN PSYCHO','CHRISTIAN BALE','ABC PUBLICATIONS');
INSERT INTO BOOKS VALUES(2,'DAA','ANDREZ SAPKOWSKI','CDPR PUBLICATIONS');
INSERT INTO BOOKS VALUES(3,'DATABASE','JK ROWLING','MGCL PUBLICATIONS');
INSERT INTO BOOKS VALUES(4,'DICE MAN','CHRISTIAN BALE','ABC PUBLICATIONS');
INSERT INTO BOOKS VALUES(5,'METAMORPHOSIS','KRATOS','DD PUBLICATIONS');
INSERT INTO BOOKS VALUES(6,'DEATH NOTE','AKIRA TORIYAMA','NJ PUBLICATIONS');

INSERT INTO BORROWS VALUES(101,1,'MARCH');
INSERT INTO BORROWS VALUES(101,3,'MARCH');
INSERT INTO BORROWS VALUES(101,4,'MARCH');
INSERT INTO BORROWS VALUES(101,5,'MARCH');
INSERT INTO BORROWS VALUES(101,6,'MARCH');
INSERT INTO BORROWS VALUES(100,1,'MARCH');
INSERT INTO BORROWS VALUES(107,3,'MARCH');
INSERT INTO BORROWS VALUES(127,1,'MARCH');
INSERT INTO BORROWS VALUES(131,1,'MARCH');
INSERT INTO BORROWS VALUES(127,3,'MARCH');
INSERT INTO BORROWS VALUES(124,6,'MARCH');
INSERT INTO BORROWS VALUES(100,5,'MARCH');
INSERT INTO BORROWS VALUES(107,4,'MARCH');

SELECT NAME FROM STUDENT WHERE SID IN
(SELECT SID FROM BORROWS WHERE ISBN=1 OR ISBN=2);

SELECT NAME FROM STUDENT WHERE GENDER='FEMALE' AND SID IN
(SELECT SID FROM BORROWS WHERE ISBN IN
(SELECT ISBN FROM BOOKS WHERE TITLE='DATABASE'));

SELECT BORROWS.SID,NAME,GENDER,COUNT(BORROWS.ISBN) FROM BORROWS,STUDENT
WHERE STUDENT.SID=BORROWS.SID
GROUP BY BORROWS.SID,NAME,GENDER
ORDER BY BORROWS.SID;

SELECT * FROM BOOKS WHERE TITLE LIKE 'DA%' AND ISBN NOT IN
(SELECT ISBN FROM BORROWS);

//mongo
db.createCollection("Books")
db.Books.insertMany([{'name':"Ryan",'bookname':"Database",'author':"JK Paul"},
{'name':"Saket",'bookname':"mens magazine",'author':"trump"}])

db.Books.find({'author':"JK Paul"}).pretty()
db.Books.find({'bookname':"Database"},{'name':1})


//plsql

DECLARE
    FIRST NUMBER:=0;
    SECOND NUMBER:=1;
    TEMP NUMBER;
    N NUMBER:=8;
    I NUMBER;
PROCEDURE FIBONACCI IS
BEGIN
    DBMS_OUTPUT.PUT_LINE('FIBONACCI SERIES:');
    DBMS_OUTPUT.PUT_LINE(FIRST);
    DBMS_OUTPUT.PUT_LINE(SECOND);
    FOR I IN 2..N-1 LOOP
        TEMP:=FIRST+SECOND;
        FIRST:=SECOND;
        SECOND:=TEMP;
        DBMS_OUTPUT.PUT_LINE(TEMP);
    END LOOP;
END;
BEGIN
    FIBONACCI;
END;
/
